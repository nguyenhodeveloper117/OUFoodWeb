{% extends 'layout/base.html' %}
{% block content %}
<div class="container-fluid fruite py-5">
    <div class="container py-5">
        <!-- form t√¨m ki·∫øm -->
        <div class="text-center mb-5" style="margin-top: 5%">
            <h1 class="text-success">Qu√°n: {{ restaurant.name }}</h1>
            <form method="get" class="row justify-content-center mt-4">
                <div class="col-md-4">
                    <input type="text" name="keyword" value="{{ keyword or '' }}"
                           class="form-control rounded-pill px-4 mb-2 mb-md-0" placeholder="T√¨m m√≥n ƒÉn theo t√™n...">
                </div>
                <div class="col-md-2">
                    <select name="food_type" class="form-select rounded-pill mb-2 mb-md-0">
                        <option value="">-- Lo·∫°i m√≥n ƒÉn --</option>
                        <option value="APPETIZER" {{
                        'selected' if food_type=='APPETIZER' }}>Khai v·ªã</option>
                        <option value="MAIN" {{
                        'selected' if food_type=='MAIN' }}>M√≥n ch√≠nh</option>
                        <option value="DESERT" {{
                        'selected' if food_type=='DESERT' }}>Tr√°ng mi·ªáng</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <select name="beverage_type" class="form-select rounded-pill mb-2 mb-md-0">
                        <option value="">-- Lo·∫°i n∆∞·ªõc --</option>
                        <option value="SOFTDRINK" {{
                        'selected' if beverage_type=='SOFTDRINK' }}>N∆∞·ªõc ng·ªçt</option>
                        <option value="DRINKINGWATER" {{
                        'selected' if beverage_type=='DRINKINGWATER' }}>N∆∞·ªõc su·ªëi</option>
                        <option value="COFFEE" {{
                        'selected' if beverage_type=='COFFEE' }}>C√† ph√™</option>
                        <option value="JUICE" {{
                        'selected' if beverage_type=='JUICE' }}>N∆∞·ªõc √©p</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <button type="submit" class="btn btn-primary rounded-pill w-100">T√¨m ki·∫øm</button>
                </div>
            </form>
        </div>

        <!-- M√≥n ƒÉn -->
        <div class="mt-5 text-start">
            <h3 class="mb-4 text-success">üçΩ M√≥n ƒÉn</h3>
            <div class="row g-4">
                {% for c in food_cuisines %}
                <div class="col-md-6 col-lg-4 col-xl-3">
                    <div class="rounded position-relative fruite-item h-100 d-flex flex-column">
                        <div class="fruite-img">
                            <img src="{{ c.image or url_for('static', filename='img/default.jpg') }}"
                                 class="img-fluid w-100 rounded-top" alt="{{ c.name }}"
                                 style="height: 200px; object-fit: cover;">
                        </div>
                        <div class="text-white bg-secondary px-3 py-1 rounded position-absolute"
                             style="top: 10px; left: 10px;">
                            {{ c.food_type.value }}
                        </div>
                        <div class="p-4 border border-secondary border-top-0 rounded-bottom mt-auto">
                            <h5 class="fw-bold">{{ c.name }}</h5>
                            <p class="small text-muted">{{ c.description }}</p>
                            <div class="d-flex justify-content-between align-items-center mt-2">
                                <p class="text-dark fs-6 fw-bold mb-0">{{ '{:,.0f}'.format(c.price) }} VND</p>
                                <button href="#" class="btn border border-secondary rounded-pill px-3 text-primary"
                                        onclick="addToCart({{c.id}}, '{{c.name}}', {{c.price}}, '{{c.image}}', {{c.count}})">
                                    <i class="fa fa-shopping-bag me-2 text-primary"></i> Th√™m
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                {% else %}
                <p class="text-muted">Kh√¥ng t√¨m th·∫•y m√≥n ƒÉn n√†o.</p>
                {% endfor %}
            </div>
        </div>

        <!-- N∆∞·ªõc u·ªëng -->
        <div class="mt-5 text-start">
            <h3 class="mb-4 text-info">ü•§ N∆∞·ªõc u·ªëng</h3>
            <div class="row g-4">
                {% for c in beverage_cuisines %}
                <div class="col-md-6 col-lg-4 col-xl-3">
                    <div class="rounded position-relative fruite-item h-100 d-flex flex-column">
                        <div class="fruite-img">
                            <img src="{{ c.image or url_for('static', filename='img/default.jpg') }}"
                                 class="img-fluid w-100 rounded-top" alt="{{ c.name }}"
                                 style="height: 200px; object-fit: cover;">
                        </div>
                        <div class="text-white bg-info px-3 py-1 rounded position-absolute"
                             style="top: 10px; left: 10px;">
                            {{ c.beverage_type.value }}
                        </div>
                        <div class="p-4 border border-info border-top-0 rounded-bottom mt-auto">
                            <h5 class="fw-bold">{{ c.name }}</h5>
                            <p class="small text-muted">{{ c.description }}</p>
                            <div class="d-flex justify-content-between align-items-center mt-2">
                                <p class="text-dark fs-6 fw-bold mb-0">{{ '{:,.0f}'.format(c.price) }} VND</p>
                                <button href="#" class="btn border border-info rounded-pill px-3 text-primary"
                                        onclick="addToCart({{c.id}}, '{{c.name}}', {{c.price}}, '{{c.image}}', {{c.count}})">
                                    <i class="fa fa-shopping-bag me-2 text-primary"></i> Th√™m
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                {% else %}
                <p class="text-muted">Kh√¥ng t√¨m th·∫•y n∆∞·ªõc u·ªëng n√†o.</p>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
<script src="{{ url_for('static', filename='js/cart.js') }}"></script>
{% endblock %}
